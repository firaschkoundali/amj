<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Connexion Admin - AMJ</title>
    
    <!-- Vendor CSS Files -->
    <link href="{{ asset('assets/vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/vendor/bootstrap-icons/bootstrap-icons.css') }}" rel="stylesheet">
    
    <!-- Main CSS File -->
    <link href="{{ asset('assets/css/main.css') }}" rel="stylesheet">
</head>
<body style="background: linear-gradient(135deg, rgba(0, 82, 163, 0.1) 0%, rgba(220, 20, 60, 0.1) 100%);">
<section class="login-section" style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, rgba(0, 82, 163, 0.1) 0%, rgba(220, 20, 60, 0.1) 100%); padding: 80px 20px;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-5 col-md-7">
                <div class="login-card" style="background: #fff; border-radius: 25px; box-shadow: 0 20px 60px rgba(0, 82, 163, 0.15); padding: 50px 40px; position: relative; overflow: hidden;">
                    
                    <!-- Decorative elements -->
                    <div class="login-decoration" style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: linear-gradient(135deg, var(--amj-blue) 0%, var(--amj-red) 100%); border-radius: 50%; opacity: 0.1; z-index: 0;"></div>
                    <div class="login-decoration" style="position: absolute; bottom: -30px; left: -30px; width: 150px; height: 150px; background: linear-gradient(135deg, var(--amj-red) 0%, var(--amj-blue) 100%); border-radius: 50%; opacity: 0.1; z-index: 0;"></div>
                    
                    <div style="position: relative; z-index: 1;">
                        <!-- Logo and Title -->
                        <div class="text-center mb-4">
                            <div class="login-logo mb-3">
                                <img src="{{ asset('assets/img/logo.png') }}" alt="AMJ Logo" style="max-height: 70px; margin-bottom: 15px;">
                            </div>
                            <h2 style="color: var(--amj-blue); font-weight: 700; margin-bottom: 10px; font-size: 2rem;">Espace Administrateur</h2>
                            <p style="color: #6c757d; font-size: 1rem;">Connectez-vous pour gérer les inscriptions</p>
                        </div>

                        <!-- Error Message -->
                        {% if error %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert" style="background: linear-gradient(135deg, rgba(220, 53, 69, 0.1) 0%, rgba(220, 53, 69, 0.05) 100%); border-left: 4px solid #dc3545; color: #721c24; border-radius: 10px; margin-bottom: 25px;">
                                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                                {{ error.messageKey|trans(error.messageData, 'security') }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% endif %}

                        <!-- Login Form -->
                        <form method="post" class="login-form">
                            <div class="form-group mb-4">
                                <label for="inputEmail" class="form-label" style="color: var(--amj-blue); font-weight: 600; margin-bottom: 10px;">
                                    <i class="bi bi-envelope-fill me-2"></i>Email
                                </label>
                                <input type="email" value="{{ last_username }}" name="_username" id="inputEmail" class="form-control login-input" autocomplete="email" required autofocus placeholder="admin@amj-djerba.tn" style="border: 2px solid #e0e0e0; border-radius: 12px; padding: 14px 18px; font-size: 1rem; transition: all 0.3s ease;">
                            </div>

                            <div class="form-group mb-4">
                                <label for="inputPassword" class="form-label" style="color: var(--amj-blue); font-weight: 600; margin-bottom: 10px;">
                                    <i class="bi bi-lock-fill me-2"></i>Mot de passe
                                </label>
                                <input type="password" name="_password" id="inputPassword" class="form-control login-input" autocomplete="current-password" required placeholder="••••••••" style="border: 2px solid #e0e0e0; border-radius: 12px; padding: 14px 18px; font-size: 1rem; transition: all 0.3s ease;">
                            </div>

                            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                            <div class="d-grid">
                                <button class="btn btn-primary btn-lg login-btn" type="submit" style="background: linear-gradient(135deg, var(--amj-red) 0%, var(--amj-red-light) 100%); border: none; padding: 14px; border-radius: 12px; font-weight: 600; font-size: 1.1rem; box-shadow: 0 6px 20px rgba(220, 20, 60, 0.3); transition: all 0.3s ease;">
                                    <i class="bi bi-box-arrow-in-right me-2"></i>
                                    Se connecter
                                </button>
                            </div>
                        </form>

                        <div class="text-center mt-4">
                            <a href="{{ path('app_home') }}" style="color: var(--amj-blue); text-decoration: none; font-size: 0.9rem;">
                                <i class="bi bi-arrow-left me-1"></i> Retour au site
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.login-input:focus {
    border-color: var(--amj-blue) !important;
    box-shadow: 0 0 0 0.2rem rgba(0, 82, 163, 0.15) !important;
    outline: none;
}

.login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(220, 20, 60, 0.4) !important;
}

.login-btn:active {
    transform: translateY(0);
}

@media (max-width: 768px) {
    .login-card {
        padding: 35px 25px !important;
        border-radius: 20px !important;
    }
    
    .login-section {
        padding: 40px 15px !important;
    }
    
    .login-section h2 {
        font-size: 1.6rem !important;
    }
    
    .login-logo img {
        max-height: 60px !important;
    }
}

@media (max-width: 576px) {
    .login-card {
        padding: 30px 20px !important;
        border-radius: 15px !important;
    }
    
    .login-section {
        padding: 30px 10px !important;
    }
    
    .login-section h2 {
        font-size: 1.4rem !important;
    }
    
    .login-logo img {
        max-height: 50px !important;
    }
    
    .login-input {
        padding: 12px 15px !important;
        font-size: 0.95rem !important;
    }
    
    .login-btn {
        padding: 12px 20px !important;
        font-size: 1rem !important;
    }
}
</style>

<!-- Vendor JS Files -->
<script src="{{ asset('assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
</body>
</html>

